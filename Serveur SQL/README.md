+++markdown
# Index.html

```html
<!DOCTYPE html>

<html lang="fr">

<head>

    <meta charset="UTF-8">

    <title>Connexion</title>

</head>

<body>

    <form action="index.php" method="post">

        <label for="username">Nom d'utilisateur:</label>

        <input type="text" id="username" name="username" required>

        <label for="password">Mot de passe:</label>

        <input type="password" id="password" name="password" required>

        <input type="submit" value="Se connecter">

    </form>

</body>

</html>

index.php

<?php

// Paramètres de connexion à la base de données

$host = "127.0.0.1"; // ou l'adresse IP du serveur de base de données

$dbname = "tpfx2";

$username = "tpfx";

$password = "tpfx";

 

// Création de la connexion

$conn = new mysqli($host, $username, $password, $dbname);

 

// Vérification de la connexion

if ($conn->connect_error) {

    die("Échec de la connexion : " . $conn->connect_error);

}

 

// Réception des données du formulaire

$username = $_POST['username'];

$password = $_POST['password'];

 

// Requête SQL vulnérable

$sql = "SELECT * FROM users WHERE username = '$username' AND password = '$password'";

 

$result = $conn->query($sql);

 

if ($result->num_rows > 0) {

    echo "Connexion réussie";

    // Rediriger l'utilisateur ou démarrer une session

} else {

    echo "Nom d'utilisateur ou mot de passe incorrect";

}

 

$conn->close();

?>
Création base de données

CREATE DATABASE tpfx2;

CREATE TABLE IF NOT EXISTS users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

Création utilisateurs base de données

create user tpfx identified by 'tpfx';

grant all privileges on *.* to 'tpfx2'@'%';

